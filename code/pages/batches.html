<psk-page title="Batches">
    <h6>
        <webc-container controller="batchesController">
            <div class="d-flex justify-content-end">
                <psk-button data-tag="add-batch" >ADD BATCH</psk-button>
            </div>
                <div class="d-flex flex-column">
                    <div class="table-header d-flex flex-row">
                        <div class="table-header-item col d-flex flex-row justify-content-start">
                            <span class="align-self-center">Product name</span>
                            <div class="d-flex flex-column justify-content-center align-self-center ml-auto mr-1">
                                <button class="sort-button btn btn-light btn-sm icon-button"
                                        data-tag="sort-data" event-data='{"property": "name", "direction": "asc"}'>
                                    <i class="fa fa-caret-up"></i>
                                </button>
                                <button class="sort-button btn btn-light btn-sm icon-button"
                                        data-tag="sort-data" event-data='{"property": "name", "direction": "desc"}'>
                                    <i class="fa fa-caret-down"></i>
                                </button>
                            </div>
                        </div>
                        <div class="table-header-item col d-flex flex-row">
                            <span class="align-self-center">Product Code (GTIN/NTIN)</span>
                            <div class="d-flex flex-column justify-content-center align-self-center ml-auto mr-1">
                                <button class="sort-button btn btn-light btn-sm icon-button"
                                        data-tag="sort-data"
                                        event-data='{"property": "gtin", "direction": "asc"}'>
                                    <i class="fa fa-caret-up"></i>
                                </button>
                                <button class="sort-button btn btn-light btn-sm icon-button"
                                        data-tag="sort-data"
                                        event-data='{"property": "gtin", "direction": "desc"}'>
                                    <i class="fa fa-caret-down"></i>
                                </button>
                            </div>
                        </div>
                        <div class="table-header-item col d-flex flex-row">
                            <span class="align-self-center">Batch ID</span>
                            <div class="d-flex flex-column justify-content-center align-self-center ml-auto mr-1">
                                <button class="sort-button btn btn-light btn-sm icon-button"
                                        data-tag="sort-data"
                                        event-data='{"property": "batchNumber", "direction": "asc"}'>
                                    <i class="fa fa-caret-up"></i>
                                </button>
                                <button class="sort-button btn btn-light btn-sm icon-button"
                                        data-tag="sort-data"
                                        event-data='{"property": "batchNumber", "direction": "desc"}'>
                                    <i class="fa fa-caret-down"></i>
                                </button>
                            </div>
                        </div>
                        <div class="table-header-item col d-flex flex-row">
                            <span class="align-self-center">Expiration date</span>
                            <div class="d-flex flex-column justify-content-center align-self-center ml-auto mr-1">
                                <button class="sort-button btn btn-light btn-sm icon-button"
                                        data-tag="sort-data"
                                        event-data='{"property": "gtin", "direction": "asc"}'>
                                    <i class="fa fa-caret-up"></i>
                                </button>
                                <button class="sort-button btn btn-light btn-sm icon-button"
                                        data-tag="sort-data"
                                        event-data='{"property": "gtin", "direction": "desc"}'>
                                    <i class="fa fa-caret-down"></i>
                                </button>
                            </div>
                        </div>
                        <div class="col align-self-center text-left">2D Data Matrix</div>
                        <div class="table-header-item col d-flex flex-row">
                            <span class="align-self-center">Leaflet version</span>
                            <div class="d-flex flex-column justify-content-center align-self-center ml-auto mr-1">
                                <button class="sort-button btn btn-light btn-sm icon-button"
                                        data-tag="sort-data"
                                        event-data='{"property": "version", "direction": "asc"}'>
                                    <i class="fa fa-caret-up"></i>
                                </button>
                                <button class="sort-button btn btn-light btn-sm icon-button"
                                        data-tag="sort-data"
                                        event-data='{"property": "version", "direction": "desc"}'>
                                    <i class="fa fa-caret-down"></i>
                                </button>
                            </div>
                        </div>
                        <div class="col align-self-center text-left">Edit Batch</div>
                    </div>
                    <div data-for="@batches">
                        <div class="table-row d-flex flex-row">
                            <div class="col align-self-center">{{@productName}}</div>
                            <div class="col align-self-center">{{@gtin}}</div>
                            <div class="col align-self-center">{{@batchNumber}}</div>
                            <div class="col align-self-center">{{@formatedDate}}</div>
                            <button class="btn btn-link col align-self-center text-left" data-tag="view-2DMatrix"
                                    event-data="@" type="button">View
                                <div hidden="hidden">{
                                    "code": "{{@code}}",
                                    "wrongCode": "{{@wrongCode}}",
                                    "recalledCode": "{{@recalledCode}}",
                                    "decommissionedCode": "{{@decommissionedCode}}"
                                    }</div>
                            </button>
                            <div class="col align-self-center">{{@version}}</div>
                            <button class="btn btn-link col align-self-center text-left" data-tag="edit-batch"
                                    event-data="@batchNumber" type="button">Edit
                            </button>
                        </div>
                    </div>
                </div>
        </webc-container>
    </h6>
</psk-page>

<style>

    .table-header {
        background: #F4F5F5;
        border-radius: 4px 4px 0px 0px;
        padding-left: 10px;
        box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.3);
        font-size: 14px;
        min-height: 3em;
    }

    .table-row {
        font-size: 14px;
        padding-left: 10px;
        background: #FFFFFF;
        box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.3);
        border-radius: 0px;
        line-height: 3em;
    }

    .btn-link {
        font-size: 14px;
        text-decoration: underline;
    }

    .sort-button,
    .sort-button.btn-light:not(:disabled):not(.disabled).active,
    .sort-button.btn-light:not(:disabled):not(.disabled).active:focus {
        background: none;
        border: none;
        line-height: 12px;
        font-size: 12px;
        box-shadow: none;
    }

    .sort-button {
        color: darkgray;
    }

    .sort-button.active {
        color: black;
    }
    
    .btn.btn-primary{
        font-size: 12px;
        padding: 6px;
        font-weight: normal;
    }
</style>
